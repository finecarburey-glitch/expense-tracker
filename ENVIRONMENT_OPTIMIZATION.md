# Environment Variables Optimization for Netlify

## Problem
The environment variables exceed the 4KB AWS Lambda limit, causing deployment failures.

## Solution 1: Optimize Private Key Format (Quick Fix)

### Current Private Key Format:
```
GOOGLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQCoWPjVAGaLzv8O\nVxFk2p2MhnqJ57KVmVNJ6lND4NxFQyxKYERGUJnJbaNuMz83LA09xIMSW5pXvQ68\nRrL7/Dh3FuXNNj5QPzfFfqmPcrgfRDVOp9dYSeOK3D4Wcj1RTjm1QcpQ8M6hsbiO\nMZ9UOFoWm8eAoO9gpeIUWeMNCOfYRjjFZf4nLkNWUjQ1TIsVgFySBrNynsp6Nt9b\nkQiwgEIaauLtzeU63UGSWqnGkCKcz0YnD4q/cujBGQYBywpI4iJcO4Y+5f+2ry2U\nDqUhVJ9AmHmxZJajG05d8nJIJoKkpdcg0LnGBxMDTs89o73zhS6NpDYW6TssA0rE\nQJDlNMsxAgMBAAECggEAIFeliJBw4wvD0w61rAVXDtQYLy3ZEKYaCwGOeSQ2VUUs\nOWbIvySFgx4B764/Rxt6uMLr9ocsPg53igLgKIqik3iN8jCpZJPcpF/q9gDxcCpT\nvnZ+5/qcEUWyVPAiKSBo9FJ9KrM003o4DXNpm43O+vh3KdZhXtVHu6awOQUcu58j\nuVvu9v6fBfdPvtBmVbZjZeIw/c3X5SIBf5lc7V31ITQ/L8aLT9MbHHuQQTdSfcY8\nucfi4KlS+oSk3B6KfWyFa/HN9MTYy3sczXBRezp2PwHrrcnQi+0wgdfHgT7Y5pUP\n+9+ZIGP0QDou7/tqFoNEsWGUBIvEn06uz6QzCaEOVQKBgQDqHXA8iG9urSzL3Q9b\nSIsIp8tUG2/iab7PVtoCw5foUV+/m3mmfoavJhR7silSWJtjnIdOnBG6owWzIPyu\nSe0imQXEzyIR/z6/vE33YrOxYsWP+Gdt2Dv3pam5pIh5gARdLYMIgVsa53pI86YA\npAVBpHvCe6Ww3D166mLemwZ+RQKBgQC4FapOcZSTFkX9tC8ng0y5bIkI1iWoA0FE\n6oOu7weU0nw+grh2LLOidVQjcK8FEVJBpUBxcEcV9KVQESITY8J7N2ZfU4R65eKj\n93AvNIBwQ4iDUxASYuh6wNaSv80PwfQPYnQyaN3prd+8Chbo2Uer9LdvolLSXOvq\n4FjDxiaN/QKBgFKmu/YS8MwxBSyfyYkfjj4rBuSVnyVe0cdfUS5CoUGaYORDXmpC\nJwh0uCyHVIFG2O0M2NQO00+BuERqM+rQHJDnVxsJSWzzINMOBrR8uxW32imet90W\nxu0CJm5swOWsJV5D8Auzp1dTO1+/7O4y+cwX5r1da7yJtIbNcsRGFL/FAoGBAKlu\n/4ceEbNkP92pF/HVbywIEwU4HgbLoCqvc67ywVagec0Lgn763Ag+18ea8uzGKaDU\nWkFPJ4600+ejLWsNWjcRIb/B3mFD8Fwc5nv8Ze9uqVq+fD+AHBzIG3eM5FCJo3r5\nkpvHW+G2sQShgL6nJsnF/4TXskV/U4GnJuxjGJ99AoGBAN7vU0nOJOMeGyocWUln\nEmvdpe4Wi1YeP1RPCHuGLJeHmUK22q8g7mdjHsYla8IMhes1fUTXxhhdJ1Kx4Gh4\nZJQB1xDRsrH2TghUrQGeCeWwpxfQG+UEolZj+z6J8s8aWVuUppqjvQxgbsjuOTpV\ngJ3fZPSgeNPphwv0om5/AOWa\n-----END PRIVATE KEY-----\n"
```

### Optimized Format (Remove quotes and \n):
```
GOOGLE_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----
MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQCoWPjVAGaLzv8O
VxFk2p2MhnqJ57KVmVNJ6lND4NxFQyxKYERGUJnJbaNuMz83LA09xIMSW5pXvQ68
RrL7/Dh3FuXNNj5QPzfFfqmPcrgfRDVOp9dYSeOK3D4Wcj1RTjm1QcpQ8M6hsbiO
MZ9UOFoWm8eAoO9gpeIUWeMNCOfYRjjFZf4nLkNWUjQ1TIsVgFySBrNynsp6Nt9b
kQiwgEIaauLtzeU63UGSWqnGkCKcz0YnD4q/cujBGQYBywpI4iJcO4Y+5f+2ry2U
DqUhVJ9AmHmxZJajG05d8nJIJoKkpdcg0LnGBxMDTs89o73zhS6NpDYW6TssA0rE
QJDlNMsxAgMBAAECggEAIFeliJBw4wvD0w61rAVXDtQYLy3ZEKYaCwGOeSQ2VUUs
OWbIvySFgx4B764/Rxt6uMLr9ocsPg53igLgKIqik3iN8jCpZJPcpF/q9gDxcCpT
vnZ+5/qcEUWyVPAiKSBo9FJ9KrM003o4DXNpm43O+vh3KdZhXtVHu6awOQUcu58j
uVvu9v6fBfdPvtBmVbZjZeIw/c3X5SIBf5lc7V31ITQ/L8aLT9MbHHuQQTdSfcY8
ucfi4KlS+oSk3B6KfWyFa/HN9MTYy3sczXBRezp2PwHrrcnQi+0wgdfHgT7Y5pUP
+9+ZIGP0QDou7/tqFoNEsWGUBIvEn06uz6QzCaEOVQKBgQDqHXA8iG9urSzL3Q9b
SIsIp8tUG2/iab7PVtoCw5foUV+/m3mmfoavJhR7silSWJtjnIdOnBG6owWzIPyu
Se0imQXEzyIR/z6/vE33YrOxYsWP+Gdt2Dv3pam5pIh5gARdLYMIgVsa53pI86YA
pAVBpHvCe6Ww3D166mLemwZ+RQKBgQC4FapOcZSTFkX9tC8ng0y5bIkI1iWoA0FE
6oOu7weU0nw+grh2LLOidVQjcK8FEVJBpUBxcEcV9KVQESITY8J7N2ZfU4R65eKj
93AvNIBwQ4iDUxASYuh6wNaSv80PwfQPYnQyaN3prd+8Chbo2Uer9LdvolLSXOvq
4FjDxiaN/QKBgFKmu/YS8MwxBSyfyYkfjj4rBuSVnyVe0cdfUS5CoUGaYORDXmpC
Jwh0uCyHVIFG2O0M2NQO00+BuERqM+rQHJDnVxsJSWzzINMOBrR8uxW32imet90W
xu0CJm5swOWsJV5D8Auzp1dTO1+/7O4y+cwX5r1da7yJtIbNcsRGFL/FAoGBAKlu
/4ceEbNkP92pF/HVbywIEwU4HgbLoCqvc67ywVagec0Lgn763Ag+18ea8uzGKaDU
WkFPJ4600+ejLWsNWjcRIb/B3mFD8Fwc5nv8Ze9uqVq+fD+AHBzIG3eM5FCJo3r5
kpvHW+G2sQShgL6nJsnF/4TXskV/U4GnJuxjGJ99AoGBAN7vU0nOJOMeGyocWUln
Emvdpe4Wi1YeP1RPCHuGLJeHmUK22q8g7mdjHsYla8IMhes1fUTXxhhdJ1Kx4Gh4
ZJQB1xDRsrH2TghUrQGeCeWwpxfQG+UEolZj+z6J8s8aWVuUppqjvQxgbsjuOTpV
gJ3fZPSgeNPphwv0om5/AOWa
-----END PRIVATE KEY-----
```

## Solution 2: Use Google Cloud Secret Manager (Better Long-term)

1. Go to Google Cloud Console
2. Navigate to "Security" â†’ "Secret Manager"
3. Create a new secret named "family-expense-private-key"
4. Store the private key there
5. Update the code to fetch from Secret Manager

## Solution 3: Split Environment Variables

Move some variables to a configuration file or use a different approach.

## Recommended Action

Use Solution 1 (optimized format) for immediate fix, then consider Solution 2 for better security.
